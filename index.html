<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feliz Cumplea√±os Anyela ‚ú®</title>
    <link href="https://fonts.googleapis.com/css?family=Kaushan+Script&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Kaushan Script', cursive;
            background: #190e14;
            overflow: hidden;
            height: 100vh;
            position: relative;
            touch-action: manipulation;
        }

        /* Fondo con gradiente */
        .sky {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at center bottom, #e9b64b, #c76075 15%, #0d0d4b 75%, #190e14 90%);
            z-index: 1;
        }

        /* Luna */
        .moon {
            position: absolute;
            top: 5%;
            right: 10%;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: #f5f5f5;
            box-shadow: 
                inset 12px -6px 0 0 #e0e0e0,
                0 0 20px rgba(255, 255, 255, 0.6);
            z-index: 2;
            animation: moonGlow 4s ease-in-out infinite alternate;
        }

        @keyframes moonGlow {
            from { box-shadow: inset 12px -6px 0 0 #e0e0e0, 0 0 20px rgba(255, 255, 255, 0.6); }
            to { box-shadow: inset 12px -6px 0 0 #e0e0e0, 0 0 40px rgba(255, 255, 255, 0.8); }
        }

        .moon .crater1 {
            position: absolute;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: #e0e0e0;
            box-shadow: inset -2px 1px 0 0 #d0d0d0;
            top: 10px;
            right: 10px;
        }

        .moon .crater2 {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: #e0e0e0;
            box-shadow: inset -1px 0.5px 0 0 #d0d0d0;
            top: 25px;
            right: 30px;
        }

        .moon .crater3 {
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #e0e0e0;
            box-shadow: inset -1px 0.5px 0 0 #d0d0d0;
            top: 35px;
            right: 15px;
        }

        /* Canvas para fuegos artificiales */
        #canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 3;
        }

        /* Contenedor principal */
        .container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 10; /* Aumentado para estar por encima de otros elementos */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            pointer-events: none; /* Permite que los clics pasen a los elementos hijos */
        }

        /* Mensajes de texto */
        .birthday-text {
            text-align: center;
            margin-bottom: 30px;
            z-index: 11;
            width: 100%;
            pointer-events: none;
        }

        .text-row {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 10px;
        }

        .text-letter {
            color: #c6e2ff;
            text-shadow: 
                0 0 6px rgba(202,228,225,0.92),
                0 0 30px rgba(202,228,225,0.34),
                0 0 12px rgba(30,132,242,0.52),
                0 0 21px rgba(30,132,242,0.92),
                0 0 34px rgba(30,132,242,0.78),
                0 0 54px rgba(30,132,242,0.92);
            font-size: 1.5rem;
            margin: 0 3px;
            animation: neon 0.08s ease-in-out infinite alternate;
            background: rgba(0, 0, 0, 0.4);
            padding: 2px 2px;
            border-radius: 4px;
        }

        @keyframes neon {
            from {
                text-shadow:
                0 0 6px rgba(202,228,225,0.92),
                0 0 30px rgba(202,228,225,0.34),
                0 0 12px rgba(30,132,242,0.52),
                0 0 21px rgba(30,132,242,0.92),
                0 0 34px rgba(30,132,242,0.78),
                0 0 54px rgba(30,132,242,0.92);
            }
            to {
                text-shadow:
                0 0 6px rgba(202,228,225,0.98),
                0 0 30px rgba(202,228,225,0.42),
                0 0 12px rgba(30,132,242,0.58),
                0 0 22px rgba(30,132,242,0.84),
                0 0 38px rgba(30,132,242,0.88),
                0 0 60px rgba(30,132,242,1);
            }
        }

        /* Contenedor de la caja */
        .gift-section {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 20px 0;
            pointer-events: none;
        }

        /* Caja de regalo */
        .gift-container {
            position: relative;
            width: 200px;
            height: 140px;
            z-index: 12;
            pointer-events: none;
        }

        .gift-box {
            width: 100%;
            height: 100%;
            position: relative;
        }

        .gift-box > div {
            background: #34495e;
            position: absolute;
        }

        .gift-cover {
            width: 100%;
            top: 0;
            left: 0;
            height: 25%;
            z-index: 2;
            background: #e74c3c;
            border-radius: 10px 10px 0 0;
            transition: all 0.3s ease;
            transform-origin: bottom center;
        }

        .gift-cover:before {
            position: absolute;
            height: 100%;
            left: 50%;
            width: 30px;
            transform: translateX(-50%);
            background: #fdc56d;
            content: '';
        }

        .gift-bow {
            position: absolute;
            width: 30px;
            height: 30px;
            left: 50%;
            top: -30px;
            transform: translateX(-50%);
        }

        .gift-bow:before, .gift-bow:after {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            content: "";
            box-shadow: inset 0 0 0 8px #fdc56d;
            border-radius: 30px;
            transform-origin: 50% 100%;
        }

        .gift-bow:before {
            transform: translateX(-45%) skewY(40deg);
        }

        .gift-bow:after {
            transform: translateX(45%) skewY(-40deg);
        }

        .gift-body {
            right: 5%;
            left: 5%;
            height: 80%;
            bottom: 0;
            background: #2c3e50;
            border-radius: 0 0 10px 10px;
        }

        .gift-body:before {
            width: 30px;
            height: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: #fdc56d;
            content: '';
            position: absolute;
        }

        /* CONTENEDOR SEPARADO PARA EL BOT√ìN */
        .button-section {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 50px;
            z-index: 15;
            width: 100%;
            pointer-events: auto; /* Permite que los botones sean clickeables */
        }

        /* BOT√ìN PRINCIPAL SEPARADO Y FUNCIONAL */
        .open-gift-btn {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 18px 35px;
            border-radius: 25px;
            font-size: 1.2rem;
            cursor: pointer;
            font-family: 'Kaushan Script', cursive;
            box-shadow: 0 0 20px rgba(255, 107, 107, 0.6);
            touch-action: manipulation;
            transition: all 0.3s ease;
            min-width: 280px;
            z-index: 16;
            position: relative;
            pointer-events: auto; /* Asegura que sea clickeable */
        }

        .open-gift-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(255, 107, 107, 0.8);
        }

        .open-gift-btn:active {
            transform: scale(0.95);
            background: #ff5252;
        }

        /* Animaciones del regalo */
        .gift-container.wobble {
            animation: wobble 0.8s ease-in-out infinite;
        }

        .gift-container.open .gift-cover {
            animation: openLid 0.6s ease-out forwards;
        }

        .gift-container.open .gift-body {
            animation: revealGift 0.4s ease-out 0.1s forwards;
        }

        @keyframes wobble {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(3deg); }
            75% { transform: rotate(-3deg); }
        }

        @keyframes openLid {
            0% { 
                transform: rotateX(0deg); 
                opacity: 1; 
            }
            100% { 
                transform: rotateX(-120deg) translateY(-20px); 
                opacity: 0.8;
            }
        }

        @keyframes revealGift {
            0% { 
                transform: scaleY(1); 
                opacity: 1; 
            }
            100% { 
                transform: scaleY(1.2); 
                opacity: 1;
            }
        }

        /* Mensaje especial */
        .special-message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.9);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            z-index: 20; /* Aumentado para estar por encima de todo */
            opacity: 0;
            transition: opacity 0.8s ease;
            width: 90%;
            max-width: 350px;
            border: 2px solid #ff6b6b;
            box-shadow: 0 0 30px rgba(255, 107, 107, 0.5);
            backdrop-filter: blur(5px);
            pointer-events: auto; /* Permite interacci√≥n con el mensaje */
        }

        .special-message.visible {
            opacity: 1;
        }

        .special-message h2 {
            color: #ff6b6b;
            font-size: 1.6rem;
            margin-bottom: 15px;
            text-shadow: 0 0 10px rgba(255, 107, 107, 0.5);
        }

        .special-message p {
            color: #fff;
            font-size: 1rem;
            line-height: 1.4;
        }

        /* Bot√≥n de continuar */
        .continue-btn {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1rem;
            cursor: pointer;
            z-index: 21; /* Aumentado para estar por encima del mensaje */
            opacity: 0;
            transition: opacity 0.5s ease;
            font-family: 'Kaushan Script', cursive;
            box-shadow: 0 0 15px rgba(255, 107, 107, 0.5);
            margin-top: 20px;
            touch-action: manipulation;
            pointer-events: auto; /* Asegura que sea clickeable */
        }

        .continue-btn.visible {
            opacity: 1;
        }

        .continue-btn:active {
            transform: scale(0.95);
            background: #ff5252;
        }

        /* Video */
        #video {
            position: absolute;
            bottom: 20%;
            z-index: 9;
            opacity: 0;
            transition: opacity 0.8s ease;
            width: 280px;
            height: 160px;
            left: 50%;
            transform: translateX(-50%);
        }

        #video.visible {
            opacity: 1;
        }

        #video iframe {
            width: 100%;
            height: 100%;
            border-radius: 10px;
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.5);
        }

        /* Estrellas */
        .stars {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle 5s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 1; }
        }
    </style>
</head>
<body>
    <div class="sky"></div>
    
    <div class="stars" id="stars"></div>
    
    <div class="moon">
        <div class="crater1"></div>
        <div class="crater2"></div>
        <div class="crater3"></div>
    </div>
    
    <canvas id="canvas"></canvas>
    
    <div class="container">
        <div class="birthday-text">
            <div class="text-row">
                <span class="text-letter">‚ô•</span>
                <span class="text-letter">F</span>
                <span class="text-letter">E</span>
                <span class="text-letter">L</span>
                <span class="text-letter">I</span>
                <span class="text-letter">Z</span>
            </div>
            <div class="text-row">
                <span class="text-letter">C</span>
                <span class="text-letter">U</span>
                <span class="text-letter">M</span>
                <span class="text-letter">P</span>
                <span class="text-letter">L</span>
                <span class="text-letter">E</span>
                <span class="text-letter">A</span>
                <span class="text-letter">√ë</span>
                <span class="text-letter">O</span>
                <span class="text-letter">S</span>
            </div>
            <div class="text-row">
                <span class="text-letter">‚ô•</span>
                <span class="text-letter">A</span>
                <span class="text-letter">N</span>
                <span class="text-letter">Y</span>
                <span class="text-letter">E</span>
                <span class="text-letter">L</span>
                <span class="text-letter">A</span>
                <span class="text-letter">‚ô•</span>
            </div>
        </div>
        
        <div class="gift-section">
            <div class="gift-container" id="giftContainer">
                <div class="gift-box">
                    <div class="gift-cover">
                        <div class="gift-bow"></div>
                    </div>
                    <div class="gift-body"></div>
                </div>
            </div>
        </div>
        
        <!-- CONTENEDOR SEPARADO PARA EL BOT√ìN -->
        <div class="button-section">
            <button class="open-gift-btn" id="openGiftBtn">
                üéÅ Toca para abrir regalo üéÅ
            </button>
        </div>
        
        <button class="continue-btn" id="continueBtn">Continuar üéµ</button>
    </div>
    
    <div id="video"></div>
    
    <div class="special-message" id="specialMessage">
        <h2>¬°Feliz Cumplea√±os Anyela! üéâ</h2>
        <p>En este d√≠a tan especial, quer√≠a desearte toda la felicidad del mundo. Que todos tus sue√±os se hagan realidad y que este nuevo a√±o de vida est√© lleno de momentos maravillosos. Eres una persona incre√≠ble y mereces lo mejor. ¬°Que tengas un d√≠a fant√°stico! üíñ</p>
    </div>

    <script>
        // Crear estrellas
        function createStars() {
            const starsContainer = document.getElementById('stars');
            const starCount = 80;
            
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                
                const size = Math.random() * 2 + 1;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;
                
                star.style.animationDelay = `${Math.random() * 5}s`;
                
                starsContainer.appendChild(star);
            }
        }

        // Sistema de fuegos artificiales optimizado para m√≥vil
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        let cw = window.innerWidth;
        let ch = window.innerHeight;
        
        canvas.width = cw;
        canvas.height = ch;
        
        let fireworks = [];
        let particles = [];
        let hue = 120;
        let animationId;
        
        function random(min, max) {
            return Math.random() * (max - min) + min;
        }
        
        function Firework(x, y) {
            this.x = x;
            this.y = y;
            this.targetX = random(50, cw - 50);
            this.targetY = random(50, ch / 2);
            this.speed = 1.5;
            this.acceleration = 1.03;
            this.brightness = random(50, 70);
        }
        
        Firework.prototype.update = function() {
            const dx = this.targetX - this.x;
            const dy = this.targetY - this.y;
            const distance = Math.sqrt(dx * dx + dy * dy);
            
            this.speed *= this.acceleration;
            
            if (distance < 8) {
                createParticles(this.targetX, this.targetY);
                return false;
            }
            
            this.x += (dx / distance) * this.speed;
            this.y += (dy / distance) * this.speed;
            return true;
        };
        
        Firework.prototype.draw = function() {
            ctx.beginPath();
            ctx.arc(this.x, this.y, 1.5, 0, Math.PI * 2);
            ctx.fillStyle = `hsl(${hue}, 100%, ${this.brightness}%)`;
            ctx.fill();
        };
        
        function Particle(x, y) {
            this.x = x;
            this.y = y;
            this.velocityX = random(-2, 2);
            this.velocityY = random(-2, 2);
            this.life = 1;
            this.decay = random(0.01, 0.02);
            this.hue = random(hue - 20, hue + 20);
            this.brightness = random(50, 80);
        }
        
        Particle.prototype.update = function() {
            this.velocityY += 0.08;
            this.x += this.velocityX;
            this.y += this.velocityY;
            this.life -= this.decay;
            return this.life > 0;
        };
        
        Particle.prototype.draw = function() {
            ctx.beginPath();
            ctx.arc(this.x, this.y, 1.5, 0, Math.PI * 2);
            ctx.fillStyle = `hsla(${this.hue}, 100%, ${this.brightness}%, ${this.life})`;
            ctx.fill();
        };
        
        function createParticles(x, y) {
            for(let i = 0; i < 15; i++) {
                particles.push(new Particle(x, y));
            }
        }
        
        function startFireworks() {
            function loop() {
                ctx.fillStyle = 'rgba(0, 0, 0, 0.15)';
                ctx.fillRect(0, 0, cw, ch);
                
                hue += 0.3;
                
                fireworks = fireworks.filter(firework => {
                    if (firework.update()) {
                        firework.draw();
                        return true;
                    }
                    return false;
                });
                
                particles = particles.filter(particle => {
                    if (particle.update()) {
                        particle.draw();
                        return true;
                    }
                    return false;
                });
                
                if (Math.random() < 0.02) {
                    fireworks.push(new Firework(cw / 2, ch));
                }
                
                animationId = requestAnimationFrame(loop);
            }
            loop();
        }

        // Sistema del regalo - COMPLETAMENTE FUNCIONAL
        document.addEventListener('DOMContentLoaded', function() {
            createStars();
            
            const openGiftBtn = document.getElementById("openGiftBtn");
            const giftContainer = document.getElementById("giftContainer");
            const specialMessage = document.getElementById("specialMessage");
            const continueBtn = document.getElementById("continueBtn");
            const video = document.getElementById("video");
            
            let giftOpened = false;
            
            function openGift() {
                if (giftOpened) return;
                giftOpened = true;
                
                console.log("¬°Bot√≥n clickeado! Regalo abierto");
                
                // Deshabilitar el bot√≥n
                openGiftBtn.disabled = true;
                openGiftBtn.style.opacity = '0.7';
                openGiftBtn.style.pointerEvents = 'none';
                
                // Paso 1: Animaci√≥n de wobble
                giftContainer.classList.add('wobble');
                
                setTimeout(() => {
                    // Paso 2: Abrir regalo
                    giftContainer.classList.remove('wobble');
                    giftContainer.classList.add('open');
                    
                    setTimeout(() => {
                        // Mostrar mensaje especial
                        specialMessage.classList.add('visible');
                        
                        setTimeout(() => {
                            // Mostrar bot√≥n de continuar
                            continueBtn.classList.add('visible');
                        }, 1000);
                    }, 800);
                }, 1000);
            }
            
            function startCelebration() {
                specialMessage.classList.remove('visible');
                continueBtn.classList.remove('visible');
                giftContainer.style.display = 'none';
                openGiftBtn.style.display = 'none';
                
                // Iniciar fuegos artificiales
                startFireworks();
                
                // Mostrar video
                video.innerHTML = `
                    <iframe 
                        src="https://www.youtube.com/embed/zRIbf6JqkNc?autoplay=1&loop=1&playlist=zRIbf6JqkNc" 
                        frameborder="0" 
                        allow="autoplay; encrypted-media" 
                        allowfullscreen>
                    </iframe>
                `;
                
                setTimeout(() => {
                    video.classList.add('visible');
                }, 300);
            }
            
            // EVENT LISTENER EN EL BOT√ìN PRINCIPAL - COMPLETAMENTE FUNCIONAL
            openGiftBtn.addEventListener('click', openGift);
            openGiftBtn.addEventListener('touchstart', function(e) {
                e.preventDefault();
                openGift();
            });
            
            continueBtn.addEventListener('click', startCelebration);
            continueBtn.addEventListener('touchstart', function(e) {
                e.preventDefault();
                startCelebration();
            });
        });

        // Ajustar canvas al redimensionar
        window.addEventListener('resize', function() {
            cw = window.innerWidth;
            ch = window.innerHeight;
            canvas.width = cw;
            canvas.height = ch;
        });
    </script>
</body>
</html>