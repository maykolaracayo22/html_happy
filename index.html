<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feliz Cumplea√±os Anyela ‚ú®</title>
    <link href="https://fonts.googleapis.com/css?family=Kaushan+Script&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Kaushan Script', cursive;
            background: #190e14;
            overflow: hidden;
            height: 100vh;
            position: relative;
            touch-action: manipulation;
        }

        /* Fondo con gradiente */
        .sky {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at center bottom, #e9b64b, #c76075 15%, #0d0d4b 75%, #190e14 90%);
            z-index: 1;
        }

        /* Luna */
        .moon {
            position: absolute;
            top: 5%;
            right: 10%;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: #f5f5f5;
            box-shadow: 
                inset 15px -8px 0 0 #e0e0e0,
                0 0 30px rgba(255, 255, 255, 0.6);
            z-index: 2;
            animation: moonGlow 4s ease-in-out infinite alternate;
        }

        @keyframes moonGlow {
            from { box-shadow: inset 15px -8px 0 0 #e0e0e0, 0 0 30px rgba(255, 255, 255, 0.6); }
            to { box-shadow: inset 15px -8px 0 0 #e0e0e0, 0 0 50px rgba(255, 255, 255, 0.8); }
        }

        .moon .crater1 {
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #e0e0e0;
            box-shadow: inset -2px 1px 0 0 #d0d0d0;
            top: 15px;
            right: 15px;
        }

        .moon .crater2 {
            position: absolute;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #e0e0e0;
            box-shadow: inset -1px 0.5px 0 0 #d0d0d0;
            top: 35px;
            right: 40px;
        }

        .moon .crater3 {
            position: absolute;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #e0e0e0;
            box-shadow: inset -1px 0.5px 0 0 #d0d0d0;
            top: 50px;
            right: 20px;
        }

        /* Canvas para fuegos artificiales */
        #canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 3;
        }

        /* Caja de regalo */
        .merrywrap {
            position: absolute;
            right: 0;
            left: 0;
            bottom: 0;
            top: 0;
            background-color: transparent;
            z-index: 7;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        .giftbox {
            position: relative;
            width: 280px;
            height: 180px;
            margin-bottom: 20px;
            cursor: pointer;
            z-index: 10;
        }

        @media (max-width: 768px) {
            .giftbox {
                width: 200px;
                height: 130px;
                margin-bottom: 10px;
            }
        }

        .giftbox > div {
            background: #34495e;
            position: absolute;
        }

        .giftbox:after {
            position: absolute;
            color: #fff;
            width: 100%;
            content: "¬°Abre tu regalo!";
            left: 0;
            bottom: -35px;
            font-size: 20px;
            text-align: center;
            transform: rotate(-5deg);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        @media (max-width: 768px) {
            .giftbox:after {
                font-size: 16px;
                bottom: -30px;
            }
        }

        .cover {
            width: 100%;
            top: 0;
            left: 0;
            height: 25%;
            z-index: 2;
            background: #e74c3c;
            border-radius: 10px 10px 0 0;
        }

        .cover:before {
            position: absolute;
            height: 100%;
            left: 50%;
            width: 40px;
            transform: translateX(-50%);
            background: #fdc56d;
            content: '';
        }

        @media (max-width: 768px) {
            .cover:before {
                width: 30px;
            }
        }

        .cover > div {
            position: absolute;
            width: 40px;
            height: 40px;
            left: 50%;
            top: -40px;
            transform: translateX(-50%);
        }

        @media (max-width: 768px) {
            .cover > div {
                width: 30px;
                height: 30px;
                top: -30px;
            }
        }

        .cover > div:before, .cover > div:after {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            content: "";
            box-shadow: inset 0 0 0 12px #fdc56d;
            border-radius: 30px;
            transform-origin: 50% 100%;
        }

        @media (max-width: 768px) {
            .cover > div:before, .cover > div:after {
                box-shadow: inset 0 0 0 8px #fdc56d;
            }
        }

        .cover > div:before {
            transform: translateX(-45%) skewY(40deg);
        }

        .cover > div:after {
            transform: translateX(45%) skewY(-40deg);
        }

        .box {
            right: 5%;
            left: 5%;
            height: 80%;
            bottom: 0;
            background: #2c3e50;
            border-radius: 0 0 10px 10px;
        }

        .box:before {
            width: 40px;
            height: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: #fdc56d;
            content: '';
            position: absolute;
        }

        @media (max-width: 768px) {
            .box:before {
                width: 30px;
            }
        }

        /* Mensajes de texto */
        .icons {
            position: absolute;
            left: 5%;
            top: 15%;
            transform: rotate(-5deg);
            z-index: 8;
            text-align: center;
            width: 90%;
        }

        @media (max-width: 768px) {
            .icons {
                top: 10%;
                left: 2%;
                width: 96%;
            }
        }

        .row {
            width: 100%;
            text-align: center;
            margin-bottom: 15px;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
        }

        .row span {
            color: #c6e2ff;
            text-shadow: 
                0 0 6px rgba(202,228,225,0.92),
                0 0 30px rgba(202,228,225,0.34),
                0 0 12px rgba(30,132,242,0.52),
                0 0 21px rgba(30,132,242,0.92),
                0 0 34px rgba(30,132,242,0.78),
                0 0 54px rgba(30,132,242,0.92);
            font-size: 2.5rem;
            display: inline-block;
            margin: 0 5px;
            animation: neon 0.08s ease-in-out infinite alternate;
            background: rgba(0, 0, 0, 0.3);
            padding: 2px 5px;
            border-radius: 5px;
        }

        @media (max-width: 768px) {
            .row span {
                font-size: 1.8rem;
                margin: 0 2px;
                padding: 1px 3px;
            }
        }

        @media (max-width: 480px) {
            .row span {
                font-size: 1.5rem;
                margin: 0 1px;
            }
        }

        @keyframes neon {
            from {
                text-shadow:
                0 0 6px rgba(202,228,225,0.92),
                0 0 30px rgba(202,228,225,0.34),
                0 0 12px rgba(30,132,242,0.52),
                0 0 21px rgba(30,132,242,0.92),
                0 0 34px rgba(30,132,242,0.78),
                0 0 54px rgba(30,132,242,0.92);
            }
            to {
                text-shadow:
                0 0 6px rgba(202,228,225,0.98),
                0 0 30px rgba(202,228,225,0.42),
                0 0 12px rgba(30,132,242,0.58),
                0 0 22px rgba(30,132,242,0.84),
                0 0 38px rgba(30,132,242,0.88),
                0 0 60px rgba(30,132,242,1);
            }
        }

        /* Animaciones optimizadas para el regalo */
        .step-1 .giftbox {
            animation: wobble 0.8s ease-in-out infinite;
        }

        .step-2 .cover {
            animation: flyUp 0.6s ease-out forwards;
        }

        .step-2 .box {
            animation: flyDown 0.4s ease-out 0.1s forwards;
        }

        @keyframes wobble {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(3deg); }
            75% { transform: rotate(-3deg); }
        }

        @keyframes flyUp {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-100vh) rotate(15deg); opacity: 0; }
        }

        @keyframes flyDown {
            0% { transform: translateY(0); opacity: 1; }
            100% { transform: translateY(100vh); opacity: 0; }
        }

        /* Video */
        #video {
            position: absolute;
            right: 5%;
            bottom: 20%;
            z-index: 9;
            opacity: 0;
            transition: opacity 0.8s ease;
            width: 300px;
            height: 200px;
        }

        @media (max-width: 768px) {
            #video {
                width: 250px;
                height: 150px;
                right: 50%;
                transform: translateX(50%);
                bottom: 25%;
            }
        }

        @media (max-width: 480px) {
            #video {
                width: 200px;
                height: 120px;
                bottom: 30%;
            }
        }

        #video iframe {
            width: 100%;
            height: 100%;
            border-radius: 10px;
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.5);
        }

        .video-visible {
            opacity: 1 !important;
        }

        /* Mensaje especial */
        .special-message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.85);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            z-index: 11;
            opacity: 0;
            transition: opacity 0.8s ease;
            max-width: 80%;
            border: 2px solid #ff6b6b;
            box-shadow: 0 0 30px rgba(255, 107, 107, 0.5);
            backdrop-filter: blur(5px);
        }

        .special-message.visible {
            opacity: 1;
        }

        .special-message h2 {
            color: #ff6b6b;
            font-size: 2rem;
            margin-bottom: 20px;
            text-shadow: 0 0 10px rgba(255, 107, 107, 0.5);
        }

        .special-message p {
            color: #fff;
            font-size: 1.2rem;
            line-height: 1.5;
        }

        @media (max-width: 768px) {
            .special-message {
                padding: 20px;
            }
            
            .special-message h2 {
                font-size: 1.5rem;
            }
            
            .special-message p {
                font-size: 1rem;
            }
        }

        /* Estrellas */
        .stars {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle 5s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 1; }
        }

        /* Bot√≥n de continuar */
        .continue-btn {
            position: absolute;
            bottom: 10%;
            left: 50%;
            transform: translateX(-50%);
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            font-size: 1.2rem;
            cursor: pointer;
            z-index: 12;
            opacity: 0;
            transition: opacity 0.5s ease;
            font-family: 'Kaushan Script', cursive;
            box-shadow: 0 0 15px rgba(255, 107, 107, 0.5);
        }

        .continue-btn.visible {
            opacity: 1;
        }

        @media (max-width: 768px) {
            .continue-btn {
                padding: 10px 20px;
                font-size: 1rem;
                bottom: 5%;
            }
        }
    </style>
</head>
<body>
    <div class="sky"></div>
    
    <div class="stars" id="stars"></div>
    
    <div class="moon">
        <div class="crater1"></div>
        <div class="crater2"></div>
        <div class="crater3"></div>
    </div>
    
    <canvas id="canvas"></canvas>
    
    <div class="merrywrap" id="merrywrap">
        <div class="giftbox" id="giftbox">
            <div class="cover">
                <div></div>
            </div>
            <div class="box"></div>
        </div>
        
        <div class="icons">
            <div class="row"> 
                <span>‚ô•</span>
                <span>F</span>
                <span>E</span>
                <span>L</span>
                <span>I</span>
                <span>Z</span>
            </div>
            <div class="row"> 
                <span>C</span>
                <span>U</span>
                <span>M</span>
                <span>P</span>
                <span>L</span>
                <span>E</span>
                <span>A</span>
                <span>√ë</span>
                <span>O</span>
                <span>S</span>
            </div>
            <div class="row"> 
                <span>‚ô•</span>
                <span>A</span>
                <span>N</span>
                <span>Y</span>
                <span>E</span>
                <span>L</span>
                <span>A</span>
                <span>‚ô•</span>
            </div>
        </div>
    </div>
    
    <div id="video"></div>
    
    <div class="special-message" id="specialMessage">
        <h2>¬°Feliz Cumplea√±os Anyela! üéâ</h2>
        <p>En este d√≠a tan especial, quer√≠a desearte toda la felicidad del mundo. Que todos tus sue√±os se hagan realidad y que este nuevo a√±o de vida est√© lleno de momentos maravillosos. Eres una persona incre√≠ble y mereces lo mejor. ¬°Que tengas un d√≠a fant√°stico! üíñ</p>
    </div>
    
    <button class="continue-btn" id="continueBtn">Continuar con la Sorpresa üéµ</button>

    <script>
        // Crear estrellas
        function createStars() {
            const starsContainer = document.getElementById('stars');
            const starCount = 100; // Reducido para mejor rendimiento
            
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                
                const size = Math.random() * 2 + 1;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;
                
                star.style.animationDelay = `${Math.random() * 5}s`;
                
                starsContainer.appendChild(star);
            }
        }

        // Sistema de fuegos artificiales optimizado
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        let cw = window.innerWidth;
        let ch = window.innerHeight;
        
        canvas.width = cw;
        canvas.height = ch;
        
        let fireworks = [];
        let particles = [];
        let hue = 120;
        let animationId;
        
        function random(min, max) {
            return Math.random() * (max - min) + min;
        }
        
        function Firework(x, y) {
            this.x = x;
            this.y = y;
            this.targetX = random(100, cw - 100);
            this.targetY = random(100, ch / 2);
            this.speed = 2;
            this.acceleration = 1.05;
            this.brightness = random(50, 70);
            this.coordinates = [];
        }
        
        Firework.prototype.update = function() {
            // Movimiento hacia el objetivo
            const dx = this.targetX - this.x;
            const dy = this.targetY - this.y;
            const distance = Math.sqrt(dx * dx + dy * dy);
            
            this.speed *= this.acceleration;
            
            if (distance < 10) {
                createParticles(this.targetX, this.targetY);
                return false;
            }
            
            this.x += (dx / distance) * this.speed;
            this.y += (dy / distance) * this.speed;
            return true;
        };
        
        Firework.prototype.draw = function() {
            ctx.beginPath();
            ctx.arc(this.x, this.y, 2, 0, Math.PI * 2);
            ctx.fillStyle = `hsl(${hue}, 100%, ${this.brightness}%)`;
            ctx.fill();
        };
        
        function Particle(x, y) {
            this.x = x;
            this.y = y;
            this.velocityX = random(-3, 3);
            this.velocityY = random(-3, 3);
            this.life = 1;
            this.decay = random(0.01, 0.03);
            this.hue = random(hue - 20, hue + 20);
            this.brightness = random(50, 80);
        }
        
        Particle.prototype.update = function() {
            this.velocityY += 0.1; // gravedad
            this.x += this.velocityX;
            this.y += this.velocityY;
            this.life -= this.decay;
            return this.life > 0;
        };
        
        Particle.prototype.draw = function() {
            ctx.beginPath();
            ctx.arc(this.x, this.y, 2, 0, Math.PI * 2);
            ctx.fillStyle = `hsla(${this.hue}, 100%, ${this.brightness}%, ${this.life})`;
            ctx.fill();
        };
        
        function createParticles(x, y) {
            for(let i = 0; i < 20; i++) {
                particles.push(new Particle(x, y));
            }
        }
        
        function loop() {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.2)';
            ctx.fillRect(0, 0, cw, ch);
            
            hue += 0.5;
            
            // Actualizar y dibujar fuegos artificiales
            fireworks = fireworks.filter(firework => {
                if (firework.update()) {
                    firework.draw();
                    return true;
                }
                return false;
            });
            
            // Actualizar y dibujar part√≠culas
            particles = particles.filter(particle => {
                if (particle.update()) {
                    particle.draw();
                    return true;
                }
                return false;
            });
            
            // Crear nuevos fuegos artificiales ocasionalmente
            if (Math.random() < 0.03) {
                fireworks.push(new Firework(cw / 2, ch));
            }
            
            animationId = requestAnimationFrame(loop);
        }
        
        // Sistema del regalo optimizado
        function initGift() {
            createStars();
            
            const merrywrap = document.getElementById("merrywrap");
            const box = document.getElementById("giftbox");
            const specialMessage = document.getElementById("specialMessage");
            const continueBtn = document.getElementById("continueBtn");
            let isAnimating = false;
            
            function openBox() {
                if (isAnimating) return;
                isAnimating = true;
                
                // Remover evento de click
                box.removeEventListener("click", openBox);
                
                // Animaci√≥n paso 1
                merrywrap.className = 'merrywrap step-1';
                
                setTimeout(() => {
                    // Animaci√≥n paso 2
                    merrywrap.className = 'merrywrap step-2';
                    
                    setTimeout(() => {
                        // Mostrar mensaje especial
                        specialMessage.classList.add('visible');
                        
                        // Mostrar bot√≥n de continuar
                        setTimeout(() => {
                            continueBtn.classList.add('visible');
                        }, 1000);
                    }, 800);
                }, 800);
            }
            
            function startCelebration() {
                specialMessage.classList.remove('visible');
                continueBtn.classList.remove('visible');
                
                // Iniciar fuegos artificiales
                loop();
                
                // Mostrar video
                const video = document.getElementById('video');
                video.innerHTML = '<iframe src="https://www.youtube.com/embed/1CqP7a3ZNCE?controls=0&loop=1&autoplay=1&mute=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>';
                setTimeout(() => {
                    video.classList.add('video-visible');
                }, 500);
            }
            
            box.addEventListener("click", openBox);
            continueBtn.addEventListener('click', startCelebration);
        }
        
        // Inicializar cuando la p√°gina cargue
        window.addEventListener('load', initGift);
        
        // Ajustar canvas al redimensionar
        window.addEventListener('resize', function() {
            cw = window.innerWidth;
            ch = window.innerHeight;
            canvas.width = cw;
            canvas.height = ch;
        });
    </script>
</body>
</html>